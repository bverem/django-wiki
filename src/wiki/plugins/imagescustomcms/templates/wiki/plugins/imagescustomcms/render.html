{% load wiki_thumbnails i18n %}{% comment %}
  This template is used for the markdown extension that renders images and captions.

  NB! Watch out for line breaks, markdown might add <br />s and <p>s.
{% endcomment %}
{% spaceless %}
<figure class="figure thumbnail border rounded p-2{% if align %} float-{{ align }}{% endif %}" style="{% if width %}width: {{ width }}px; {% endif %}display:table; caption-side:bottom;">
    <a href="{{ image_data.url }}" data-id="{{ image_data.id }}">
{% if size %}
  {% thumbnail image_data.sorl_url size upscale=False as thumb %}
      <img src="{{ thumb.url }}" />
  {% empty %}
      <div class="caption">
        <em>{% trans "Thumbnail not found" %}</em>
      </div>
  {% endthumbnail %}
{% else %}
      <img src="{{ image_data.url }}" />
{% endif %}
    </a>
  <figcaption class="figure-caption" style="display:table-caption;">{{ caption|safe }}</figcaption>
</figure>
{% endspaceless %}
